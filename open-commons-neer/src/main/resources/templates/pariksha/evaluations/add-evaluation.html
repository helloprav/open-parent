<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:replace="/layout :: layout(~{::title}, ~{::section})"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}"
      >
<head>
    <title>Pariksha: Evaluations</title>
</head>
<body>
<div layout:fragment="content">
    <section>
        <div th:switch="${evalId}" class="container my-5">
            <div class="col-md-10">
                <h2 th:case="null">Adding new evaluation</h2>
                <h2 th:case="*">Editing Evaluation: [[${evalId}]]</h2>
				<form action="#" th:action="@{/pariksha/evaluations/save}" th:object="${evaluation}" method="post" enctype="multipart/form-data" >
                    <table class="table table-striped table-responsive-md" ><tbody>
						<tr><td><input type="hidden" th:field="*{id}" id="id" class="form-control">
							<label for="name">Evaluation Name</label></td><td>
							<input type="text" th:field="*{name}" id="name" placeholder="Name">
							<input type="hidden" th:field="*{questionsInEval}" id="questionsInEval" >
							<input type="hidden" th:field="*{isValid}" id="isValid" >
							<span th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span></td></tr>
						<tr><td>
							<label for="evalGroup">Evaluation Group</label></td><td>
							<select th:field="*{evalGroup}" class="form-control" id="dropDownList">
								<option value="">select option</option>
								<option th:each="option : ${evalGroups}" th:value="${option}" th:text="${option}"></option>
							</select>
							<span th:if="${#fields.hasErrors('evalGroup')}" th:errors="*{evalGroup}"></span></td></tr>
						<tr><td>
							<label for="evalGroup">Evaluation Environment</label></td><td>
							<select th:field="*{evalEnv}" class="form-control">
								<option th:value="'Test'" th:text="Test"></option>
								<option th:value="'Prod'" th:text="Prod"></option>
							</select>
							<span th:if="${#fields.hasErrors('evalEnv')}" th:errors="*{evalEnv}"></span></td></tr>
						<tr><td>
							<label for="questionsToAttempt">Questions to Attempts</label></td><td>
							<input type="text" th:field="*{questionsToAttempt}" id="questionsToAttempt" placeholder="Questions to be displayed during evaluation">
							<span th:if="${#fields.hasErrors('questionsToAttempt')}" th:errors="*{questionsToAttempt}"></span></td></tr>
						<tr><td>
							<label for="questionsToPass">Questions to Pass</label></td><td>
							<input type="text" th:field="*{questionsToPass}" id="questionsToPass" placeholder="Questions To Pass">
							<span th:if="${#fields.hasErrors('questionsToPass')}" th:errors="*{questionsToPass}"></span></td></tr>
						<tr><td>
							<label for="evalFile">Upload Evaluation File</label></td><td>
							<input id="evalFile" type="file" name="evalFile" /></td></tr>
						<tr id="mediaFileTr"><td>
							<label for="mediaFile">Upload Media File</label></td><td>
							<input id="mediaFile" type="file" name="mediaFile" /></td></tr>
						<tr><td colspan="2"><div th:switch="${evalId}">
							<input type="submit" value="Create" th:case="null">
							<input type="submit" value="Update" th:case="*">
							</div><br>
							<div th:if="${#fields.hasErrors('global')}">
								<h3>Global errors:</h3>
								<p th:each="err : ${#fields.errors('global')}" th:text="${err}" class="error" />
							</div>
							</td></tr>
					</tbody></table>
				</form><br/>
            </div>
        </div>
    </section>
</div>
</body>
</html>
